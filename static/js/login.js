var e=document.getElementById("auth"),f=document.getElementById("createAcc"),g=document.getElementById("lText"),h=document.getElementById("username"),l=document.getElementById("password"),m,n,p=!1,r=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;document.getElementById("forgotPass").onclick=function(){t("Asta e! \ud83e\udd37‍♂️")};f.onclick=function(){if(p)u();else{var d=document.createElement("input");w(d,{"class":"login",id:"repeatPassword",autocomplete:"new-password",maxlength:"100",placeholder:"Repetă parola",required:"",tabindex:"3",type:"password"});var b=document.createElement("input");w(b,{"class":"login",id:"email",autocomplete:"email",maxlength:"254",name:"email",placeholder:"E-mail",required:"",tabindex:"4",type:"email",spellcheck:"false"});w(l,{autocomplete:"new-password"});w(e,{action:"createUser"});e.insertBefore(d,document.getElementById("submitB"));e.insertBefore(b,document.getElementById("submitB"));p=!0;m=document.getElementById("repeatPassword");m.onkeyup=function(){"login lGreen"==l.className?m.className=l.value==m.value?"login lGreen":"login lRed":m.className="login"};n=document.getElementById("email");n.onkeyup=function(){r.test(n.value)?n.className="login lGreen":n.className=0!=n.value.length?"login lRed":"login"};n.onblur=function(){"login lGreen"==n.className&&x("/emailExists",{email:n.value},function(a){"true"==a&&(n.className="login lRed")})};g.textContent="Creare cont";f.textContent="Ai cont? Loghează-te!";h.onblur()}};h.onkeyup=function(){h.className=6<=h.value.length&&40>=h.value.length?"login lGreen":0!=h.value.length?"login lRed":"login"};h.onblur=function(){if(p)"login lGreen"==h.className&&x("/usernameExists",{username:h.value},function(d){"true"==d&&(h.className="login lRed")});else h.onkeyup()};l.onkeyup=function(){if(8<=l.value.length&&100>=l.value.length&&1==y()){if(l.className="login lGreen",p)m.onkeyup(null)}else if(0!=l.value.length)l.className="login lRed";else if(l.className="login",p)m.onkeyup(null)};e.addEventListener("submit",function(d){if(6<=h.value.length&&40>=h.value.length)if(8<=l.value.length&&100>=l.value.length){var b=y();if(1==b)p?l.value==m.value?r.test(n.value)?x("/createUser",{username:h.value,password:l.value,email:n.value},function(c){switch(c){case "true":u();e.reset();h.className="login";l.className="login";t("Cont creat cu succes!");break;case "USER_EXISTS":t("Numele de utilizator există deja!",2);break;case "EMAIL_EXISTS":t("Adresa e-mail există deja!",2);break;default:t("Nume utilizator/Parola/Email invalide",2)}}):t("Adresa e-mail nu este validă!",2):t("Parolele trebuie să fie identice!",2):x("/loginUser",{username:h.value,password:l.value},function(c){switch(c){case "USER_DISABLED":t("Contul este dezactivat! Spunei lui Gennerator și rezolvă el.",3);break;case "USER_PASSWORD_NOT_FOUND":t("Numele de utilizator sau parola sunt incorecte!",2);break;default:document.body.innerHTML=c,setTimeout(function(){window.location.href="/"},3E3)}});else{var a="Parola trebuie să conțină cel puțin:\n";b[0]||(a+="- un caracter minuscul\n");b[1]||(a+="- un caracter majuscul\n");b[2]||(a+="- o cifră\n");b[3]||(a+="- un caracter special\n");t(a,2)}}else t("Parola trebuie să conțină minimum 8 caractere!",2);else t("Numele de utilizator trebuie să conțină minimum 6 caractere!",2);d.preventDefault()});function y(){for(var d=l.value,b=!1,a=!1,c=!1,q=!1,v=0;v<d.length;v++){var k=d.charAt(v);if(b&&a&&c&&q)return!0;!b&&"A"<=k&&"Z">=k?b=!0:!a&&"a"<=k&&"z">=k?a=!0:!c&&"0"<=k&&"9">=k?c=!0:!q&&("A">k||"Z"<k)&&("a">k||"z"<k)&&("0">k||"9"<k)&&(q=!0)}return b&&a&&c&&q?!0:[b,a,c,q]}function u(){g.parentNode.removeChild(m);g.parentNode.removeChild(n);p=!1;w(l,{autocomplete:"current-password"});w(e,{action:"loginUser"});g.textContent="Login";f.textContent="Nu ai cont? Creează unul!";h.onblur()};