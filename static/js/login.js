var d=document.getElementById("auth"),f=document.getElementById("createAcc"),h=document.getElementById("lText"),k=document.getElementById("username"),l=document.getElementById("password"),m,n=!1;document.getElementById("forgotPass").onclick=function(){q("Asta e! \ud83e\udd37\u200d\u2642\ufe0f")};
f.onclick=function(){if(n)r();else{var b=document.createElement("input");t(b,{"class":"login",id:"repeatPassword",autocomplete:"new-password",maxlength:100,placeholder:"Repet\u0103 parola",type:"password"});b.required=!0;t(l,{autocomplete:"new-password"});t(d,{action:"createUser"});d.insertBefore(b,document.getElementById("submitB"));n=!0;m=document.getElementById("repeatPassword");m.onkeyup=function(){"login lGreen"==l.className?m.className=l.value==m.value?"login lGreen":"login lRed":m.className=
"login"};h.textContent="Creare cont";f.textContent="Ai cont? Logheaz\u0103-te!";k.onblur()}};k.onkeyup=function(){k.className=6<=k.value.length&&40>=k.value.length?"login lGreen":0!=k.value.length?"login lRed":"login"};k.onblur=function(){if(n)"login lGreen"==k.className&&v("/usernameExists",{username:k.value},function(b){"true"==b&&(k.className="login lRed")});else k.onkeyup()};
l.onkeyup=function(){if(8<=l.value.length&&100>=l.value.length&&1==w()){if(l.className="login lGreen",n)m.onkeyup(null)}else if(0!=l.value.length)l.className="login lRed";else if(l.className="login",n)m.onkeyup(null)};
d.addEventListener("submit",function(b){if(6<=k.value.length&&40>=k.value.length)if(8<=l.value.length&&100>=l.value.length)if(1==w())n?l.value==m.value?v("/createUser",{username:k.value,password:l.value},function(c){"true"==c?(r(),d.reset(),k.className="login",l.className="login",q("Cont creat cu succes!")):q("Numele de utilizator exist\u0103 deja!",2)}):q("Parolele trebuie s\u0103 fie identice!",2):v("/loginUser",{username:k.value,password:l.value},function(c){switch(c){case "USER_DISABLED":q("Contul este dezactivat! Spunei lui Gennerator \u0219i rezolv\u0103 el.",
3);break;case "USER_PASSWORD_NOT_FOUND":q("Numele de utilizator sau parola sunt incorecte!",2);break;default:document.body.innerHTML=c,setTimeout(function(){window.location.href="/"},3E3)}});else{var a="Parola trebuie s\u0103 con\u021bin\u0103 cel pu\u021bin:\n";x()||(a+="- un caracter minuscul\n");y()||(a+="- un caracter majuscul\n");z()||(a+="- o cifr\u0103\n");A()||(a+="- un caracter special\n");q(a,2)}else q("Parola trebuie s\u0103 con\u021bin\u0103 minimum 8 caractere!",2);else q("Numele de utilizator trebuie s\u0103 con\u021bin\u0103 minimum 6 caractere!",
2);b.preventDefault()});function w(){for(var b=l.value,a=!1,c=!1,e=!1,p=!1,u=0;u<b.length;u++){var g=b.charAt(u);if(a&&c&&e&&p)return!0;!a&&"A"<=g&&"Z">=g?a=!0:!c&&"a"<=g&&"z">=g?c=!0:!e&&"0"<=g&&"9">=g?e=!0:!p&&("A">g||"Z"<g)&&("a">g||"z"<g)&&("0">g||"9"<g)&&(p=!0)}return a&&c&&e&&p?!0:!1}function r(){h.parentNode.removeChild(m);n=!1;t(l,{autocomplete:"current-password"});t(d,{action:"loginUser"});h.textContent="Login";f.textContent="Nu ai cont? Creeaz\u0103 unul!";k.onblur()}
