(function(){var a=document.getElementById("createAcc"),b=document.getElementById("lText"),e=document.getElementById("username"),f=document.getElementById("password");document.getElementById("forgotPass").onclick=function(){console.log("Asta e! ^_^")};
a.onclick=function(){if(document.getElementById("repeatPassword"))b.parentNode.removeChild(document.getElementById("repeatPassword")),setAttributes(document.getElementById("auth"),{action:"loginUser"}),b.textContent="Login",a.textContent="Nu ai cont? Creeaz\u0103 unul!",e.onblur(),f.onblur();else{var c=document.createElement("input");c.required=!0;setAttributes(c,{"class":"login",maxlength:100,placeholder:"Repet\u0103 parola",type:"password",id:"repeatPassword"});var g=document.getElementById("auth");
setAttributes(g,{action:"createUser"});g.insertBefore(c,document.getElementById("submit"));var d=document.getElementById("repeatPassword");d.onkeyup=function(){8<=d.value.length&&100>=d.value.length?(d.className=f.value==d.value?"login lGreen":"login lRed",f.onblur()):d.className=0==d.value.length?"login":"login lRed"};b.textContent="Creare cont";a.textContent="Ai cont? Logheaz\u0103-te!";e.onblur()}};
e.onkeyup=function(){e.className=6<=e.value.length&&40>=e.value.length?"login lGreen":0==e.value.length?"login":"login lRed"};
e.onblur=function(){if(6<=e.value.length&&40>=e.value.length){if(document.getElementById("repeatPassword")){var c=new XMLHttpRequest;c.open("POST","/usernameExists",!0);c.setRequestHeader("Content-Type","application/json");c.send(JSON.stringify({username:e.value}));c.onload=function(){e.className="true"==this.response?"login lRed":"login lGreen"}}e.className="login lGreen"}else e.className=0==e.value.length?"login":"login lRed"};
f.onkeyup=function(){if(8<=f.value.length&&100>=f.value.length)if(document.getElementById("repeatPassword")){var c=document.getElementById("repeatPassword");f.value==c.value&&(f.className="login lGreen");c.onkeyup(null)}else f.className="login lGreen";else f.className=0==f.value.length?"login":"login lRed"};
f.onblur=function(){8<=f.value.length&&100>=f.value.length?document.getElementById("repeatPassword")?f.value==document.getElementById("repeatPassword").value&&(f.className="login lGreen"):f.className="login lGreen":f.className=0==f.value.length?"login":"login lRed"};
document.getElementById("auth").onsubmit=function(c){6<=e.value.length&&40>=e.value.length&&8<=f.value.length&&100>=f.value.length?document.getElementById("repeatPassword")?f.value==document.getElementById("repeatPassword").value?console.log("totu e bine!"):console.log("parolele nu corespund!"):(console.log("totu e bine!"),c.submit()):console.log("username sau parola nu is destul de lungi!");c.preventDefault()};})();
