(function(){var a=document.getElementById("auth"),b=document.getElementById("createAcc"),c=document.getElementById("lText"),e=document.getElementById("username"),f=document.getElementById("password"),g="",h;document.getElementById("forgotPass").onclick=function(){console.log("Asta e! ^_^")};
b.onclick=function(){if(h)c.parentNode.removeChild(h),h=void 0,setAttributes(f,{autocomplete:"current-password"}),setAttributes(a,{action:"loginUser"}),c.textContent="Login",b.textContent="Nu ai cont? Creeaz\u0103 unul!",e.onblur(),f.onblur();else{var d=document.createElement("input");setAttributes(d,{"class":"login",id:"repeatPassword",autocomplete:"new-password",maxlength:100,placeholder:"Repet\u0103 parola",type:"password"});d.required=!0;setAttributes(f,{autocomplete:"new-password"});setAttributes(a,
{action:"createUser"});a.insertBefore(d,document.getElementById("submitB"));h=document.getElementById("repeatPassword");h.onkeyup=function(){8<=h.value.length&&100>=h.value.length?(h.className=f.value==h.value?"login lGreen":"login lRed",f.onblur()):h.className=0==h.value.length?"login":"login lRed"};c.textContent="Creare cont";b.textContent="Ai cont? Logheaz\u0103-te!";e.onblur()}};e.onkeyup=function(){e.className=6<=e.value.length&&40>=e.value.length?"login lGreen":0==e.value.length?"login":"login lRed"};
e.onblur=function(){if(6<=e.value.length&&40>=e.value.length)if(h)if(g!=e.value){g=e.value;var d=new XMLHttpRequest;d.open("POST","/usernameExists",!0);d.setRequestHeader("Content-Type","application/json");d.send(JSON.stringify({username:e.value}));d.onload=function(){e.className="true"==this.response?"login lRed":"login lGreen"};e.className="login lGreen"}else e.className="login lRed";else e.className="login lGreen";else e.className=0==e.value.length?"login":"login lRed"};
f.onkeyup=function(){8<=f.value.length&&100>=f.value.length?h?(f.value==h.value&&(f.className="login lGreen"),h.onkeyup(null)):f.className="login lGreen":f.className=0==f.value.length?"login":"login lRed"};f.onblur=function(){8<=f.value.length&&100>=f.value.length?h?f.value==h.value&&(f.className="login lGreen"):f.className="login lGreen":f.className=0==f.value.length?"login":"login lRed"};
a.onsubmit=function(d){6<=e.value.length&&40>=e.value.length&&8<=f.value.length&&100>=f.value.length?h?f.value==h.value?(console.log("Parolele corespund"),a.submit()):console.log("Parolele nu corespund!"):(console.log("Username si parola corecte!"),a.submit()):console.log("Username si parola nu respecta conditiile de lungime!");d.preventDefault()};})();
