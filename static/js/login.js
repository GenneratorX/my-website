(function(){var a=document.getElementById("auth"),b=document.getElementById("createAcc"),c=document.getElementById("lText"),e=document.getElementById("username"),g=document.getElementById("password"),h;document.getElementById("forgotPass").onclick=function(){console.log("Asta e! ^_^")};
b.onclick=function(){if(h)k();else{var d=document.createElement("input");setAttributes(d,{"class":"login",id:"repeatPassword",autocomplete:"new-password",maxlength:100,placeholder:"Repet\u0103 parola",type:"password"});d.required=!0;setAttributes(g,{autocomplete:"new-password"});setAttributes(a,{action:"createUser"});a.insertBefore(d,document.getElementById("submitB"));h=document.getElementById("repeatPassword");h.onkeyup=function(){h.className="login lGreen"==g.className?g.value==h.value?"login lGreen":
"login lRed":"login"};c.textContent="Creare cont";b.textContent="Ai cont? Logheaz\u0103-te!";e.onblur()}};function k(){c.parentNode.removeChild(h);h=void 0;setAttributes(g,{autocomplete:"current-password"});setAttributes(a,{action:"loginUser"});c.textContent="Login";b.textContent="Nu ai cont? Creeaz\u0103 unul!";e.onblur()}e.onkeyup=function(){e.className=6<=e.value.length&&40>=e.value.length?"login lGreen":0!=e.value.length?"login lRed":"login"};
e.onblur=function(){if(h)"login lGreen"==e.className&&xhr("POST","/usernameExists",{username:e.value},function(d){"true"==d&&(e.className="login lRed")});else e.onkeyup()};g.onkeyup=function(){if(8<=g.value.length&&100>=g.value.length){if(g.className="login lGreen",h)h.onkeyup(null)}else if(0!=g.value.length)g.className="login lRed";else if(g.className="login",h)h.onkeyup(null)};
a.addEventListener("submit",function(d){6<=e.value.length&&40>=e.value.length?8<=g.value.length&&100>=g.value.length?h?g.value==h.value?xhr("POST","/createUser",{username:e.value,password:g.value},function(f){"true"==f?(k(),a.reset(),e.className="login",g.className="login",snackbar("Cont creat cu succes!")):snackbar("Numele de utilizator exist\u0103 deja!",2)}):snackbar("Parolele trebuie s\u0103 fie identice!",2):xhr("POST","/loginUser",{username:e.value,password:g.value},function(f){switch(f){case "USER_DISABLED":snackbar("Contul este dezactivat! Spunei lui Gennerator \u0219i rezolv\u0103 el.",
3);break;case "USER_PASSWORD_NOT_FOUND":snackbar("Numele de utilizator sau parola sunt incorecte!",2);break;default:document.body.innerHTML=f,setTimeout(function(){window.location.href="/"},3E3)}}):snackbar("Parola trebuie s\u0103 con\u021bin\u0103 minimum 8 caractere!",2):snackbar("Numele de utilizator trebuie s\u0103 con\u021bin\u0103 minimum 6 caractere!",2);d.preventDefault()});})();
